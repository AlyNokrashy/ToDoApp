<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}ToDo App{% endblock %}</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	</head>
	<body class="d-flex flex-column min-vh-100">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container-xxl">
				<a href="{{ url_for('dashboard') }}" class="navbar-brand">
					<span class="fw-bold text-secondary">ToDo</span>
				</a>

				{% if request.endpoint == 'dashboard' %}
					<form action={{ url_for('dashboard') }} method="get" class="d-flex" role="search">
						<input class="form-control me-2" name="query" type="search" placeholder="Search" aria-label="Search">
						<button class="btn btn-outline-success" type="submit">Search</button>
					</form>

					{% if request.args.get('query') %}
                		<a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary ms-2">Show All</a>
            		{% endif %}

					{% if current_user.is_authenticated %}
						<a href="{{ url_for('logout') }}" class="btn btn-outline-danger ms-2">Logout</a>
					{% else %}
						<a href="{{ url_for('login') }}" class="btn btn-outline-primary ms-2">Login</a>
						<a href="{{ url_for('register') }}" class="btn btn-outline-primary ms-2">Register</a>
					{% endif %}
				{% endif %}
			</div>
		</nav>


		<div class='container'>
		{% block body %} {% endblock %}
		</div>

		<footer class="bg-light py-3 border-top mt-auto">
			<div class="container text-center">
				<p class="mb-0 text-secondary">&copy; 2024 ToDo App. All Rights Reserved. CS50</p>
			</div>
		</footer>
		
		
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
	</body>
</html>
